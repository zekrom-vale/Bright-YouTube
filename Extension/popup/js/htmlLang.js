//may not run on En
const Langs={};
Langs.en={//To be translated
	'title': 'Bright YouTube Options',
	'enabled': 'Enabled',
	'short': 'Short',
	'autoStart': 'Auto Start',
	'permissions': 'Permissions',
	'permissions_Title': 'What sites to run on',
	'YT_Title': 'youtube.com/embed/* Included',
	'YTgames': 'YT Games',
	'embedded': 'Embedded',
	'dot_tv': 'Dot tv',
	'allURLs': '[NO OFF]All URLs',
	'file_Title': 'Enable also at chrome://extensions',
	'file': 'File',
	'Ilnf': 'In-line On / Off',
	'CSS':{
		'apply':{
			'head': 'Apply to:',
			'nonYT': 'Non-YouTube',
			'YT': 'YouTube',
			'both': 'Both',
			'ovYT': 'Override YouTube'
		},
		'pos':{
			'head': 'position:',
			'fix': 'fixed',
			'fix_Title': 'relative to the page',
			'abs': 'absolute',
			'abs_Title': 'relative to the window'
		},
		'top': 'top',
		'bottom': 'bottom',
		'R': 'right',
		'L': 'left',
		'pad':{
			'top': 'padding-top:',
			'R': 'padding-right:',
			'bottom': 'padding-bottom:',
			'L': 'padding-left:'
		},
		'size': 'size:',
		'rad': 'radius:',
		'backClolor': 'background-color:',
		'adv': 'CSS Style (Advanced)',
		'units': 'Custom units'
	},
	'filter':{
		'head': '[BETA]Custom filter function',
		'JSrule': 'Limited JavaScript Rules',
		'list': [
			'Custom function variables MUST start with an underscore',
			'No functions (includes arrow functions)',
			'if else statements allowed',
			'document, window, and getElement are all disabled',
			'Most Math functions are allowed',
			['Use', 'to set the filter']
		],
		'pre':[
			'average red',
			'average green',
			'average blue',
			'average alpha[DISABLED]',
			'pass number',
			'unweighted RGB',
			'weighted RGB',
			'old RGB',
			'old unweighted RGB',
			'old weighted RGB'
		]
	}
}
//Encoding warning!
Langs.es= {};
Langs.enEX={//To be translated
	'_title': 'Bright YouTube Options',
	'_enabled': 'Enabled',
	'_short': 'Short',
	'_autoStart': 'Auto Start',
	'_permissions': 'Permissions',
	'_permissions_Title': 'What sites to run on',
	'_YT_Title': 'youtube.com/embed/* Included',
	'_YTgames': 'YT Games',
	'_embedded': 'Embedded',
	'_dot_tv': 'Dot tv',
	'_allURLs': '[NO OFF]All URLs',
	'_file_Title': 'Enable also at chrome://extensions',
	'_file': 'File',
	'_Ilnf': 'In-line On / Off',
	'_CSS':{
		'_apply':{
			'_head': 'Apply to:',
			'_nonYT': 'Non-YouTube',
			'_YT': 'YouTube',
			'_both': 'Both',
			'_ovYT': 'Override YouTube'
		},
		'_pos':{
			'_head': 'position:',
			'_fix': 'fixed',
			'_fix_Title': 'relative to the page',
			'_abs': 'absolute',
			'_abs_Title': 'relative to the window'
		},
		'_top': 'top',
		'_bottom': 'bottom',
		'_R': 'right',
		'_L': 'left',
		'_pad':{
			'_top': 'padding-top:',
			'_R': 'padding-right:',
			'_bottom': 'padding-bottom:',
			'_L': 'padding-left:'
		},
		'_size': 'size:',
		'_rad': 'radius:',
		'_backClolor': 'background-color:',
		'_adv': 'CSS Style (Advanced)',
		'_units': 'Custom units'
	},
	'_filter':{
		'_head': '[BETA]Custom filter function',
		'_JSrule': 'Limited JavaScript Rules',
		'_list': [
			'Custom function variables MUST start with an underscore',
			'No functions (includes arrow functions)',
			'if else statements allowed',
			'document, window, and getElement are all disabled',
			'Most Math functions are allowed',
			['Use', 'to set the filter']
		],
		'_pre':[
			'average red',
			'average green',
			'average blue',
			'average alpha[DISABLED]',
			'pass number',
			'unweighted RGB',
			'weighted RGB',
			'old RGB',
			'old unweighted RGB',
			'old weighted RGB'
		]
	}
}
Langs.fr={
	'title': 'Bright YouTube Options',
	'enabled': 'Enabled',
	'short': 'Short',
	'autoStart': 'Démarrage automatique',
	'permissions': 'Autorisations',
	'permissions_Title': 'Quels sites à exécuter',
	'YT_Title': 'youtube.com/embed/* Inclus',
	'YTgames': 'YT Jeux',
	'embedded': 'Embedded',
	'dot_tv': 'Dot tv',
	'allURLs': '[NON OFF] Toutes les URL',
	'file_Title': 'Activer aussi à chrome: // extensions',
	'file': 'Fichier',
	'Ilnf': 'Inline On / Off',
	'CSS':{
		'apply':{
			'head': 'Appliquer à:',
			'nonYT': 'Non-YouTube',
			'YT': 'YouTube',
			'both': 'les deux',
			'ovYT': 'Override YouTube'
		},
		'pos': {
			'head': 'position:',
			'fix': 'fixé',
			'fix_Title': 'relatif à la page',
			'abs': 'absolu',
			'abs_Title': 'relative à la fenêtre'
		},
		'top': 'top',
		'bottom': 'bas',
		'R': 'droit',
		'L': 'left',
		'pad':{
			'top': 'rembourrage droit haut:',
			'R': 'rembourrage droit droite:',
			'bottom': 'rembourrage droit bas:',
			'L': 'rembourrage droit gauche:'
		},
		'size': 'taille:',
		'rad': 'rayon:',
		'backColor': 'Couleur de fond:',
		'adv': 'Style CSS (Avancé)',
		'units':'unités personnalisées',
	},
	'filter':{
		'head': '[BÊTA] Fonction de filtre personnalisée',
		'JSrule': 'Règles JavaScript limitées',
		'list': [
			'Les variables de fonction personnalisées DOIVENT commencer par un trait de soulignement',
			'Aucune fonction (incluant les fonctions de la flèche)',
			'si d\'autres déclarations sont autorisées',
			'document, fenêtre et getElement sont tous désactivés',
			'La plupart des fonctions mathématiques sont autorisées',
			['Utiliser', 'pour régler le filtre']
		],
		'pre':[
			'moyenne rouge',
			'vert moyen',
			'moyenne bleue',
			'alpha moyen [DÉSACTIVÉ]',
			'numéro de passage',
			'RGB non pondéré',
			'RGB pondéré',
			'vieux RGB',
			'vieux RGB non pondéré',
			'vieux RGB pondéré'
		]
	}
}
Langs.it= {};
Langs.gr= {};
Langs.jp= {};
document.addEventListener('DOMContentLoaded', ()=>{
	try{
		chrome.storage.sync.get('lang', items=>{
			setHTML(Langs[items.lang]);
		});
	}catch(e){
		console.warn('lang undefined, set to en');
		setHTML(Langs.en);
		chrome.strorage.sync.set({'lang': 'en'});
	}
});
function setHTML(L){
	var allKey= document.querySelectorAll('[key]');
	var i=0;
	while(i< allKey.length){
		allKey[i].innerHTML=GoTo(L, allKey[i].getAttribute('key'));//L[a.b.c]!= L[a][b][c]
		if(allKey[i].getAttribute('key-title')==''){
			allKey[i].title=GoTo(L, allKey[i].getAttribute('key')+'_Title');
		}
		i++;
	}
	var keyT0= document.querySelectorAll('[key-title]:not([key])');
	var I=0;
	while(I< keyT0.length){
		keyT0[I].title=GoTo(L, keyT0[I].getAttribute('key')+'_Title');
		I++;
	}
}
function GoTo(B, P){//Base & Path
	P= P.split('.');
	switch(P.length){
		case 0:
			return B;
		case 1:
			return B[P[0]];
		case 2:
			return B[P[0]][P[1]];
		case 3:
			return B[P[0]][P[1]][P[2]];
		case 4:
			return B[P[0]][P[1]][P[2]][P[3]];
		case 5:
			return B[P[0]][P[1]][P[2]][P[3]][P[4]];
		case 6:
			return B[P[0]][P[1]][P[2]][P[3]][P[4]][P[5]];
		default:
			return null;
	}
}